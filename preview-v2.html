<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link type="text/css" rel="stylesheet" href="/css/owl.carousel.css" />
    <link type="text/css" rel="stylesheet" href="/css/style.css" />
    <link type="text/css" rel="stylesheet" href="/css/fullpage.min.css" />
    <!--<link type="text/css" rel="stylesheet" href="/css/media.css" />-->
    <!--<link rel="icon" href="/images/favicon.ico" type="image/gif" sizes="16x16">-->
    <!-- Primary Meta Tags -->
    <title>Startup Hack</title>
    <meta name="title" content="6 The Audacious Student Empowering Women">
    <meta name="description" content="Tenisha was diagnosed with Polycystic Ovary Syndrome (PCOS) at just seventeen years old. She was told that she was probably going to be miserable, struggle to get pregnant and should lose some weight if she wanted to get close to living a happy, normal life.">
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://leonamunro.co.nz/news/the-audacious-student-empowering-women">
    <meta property="og:title" content="6 The Audacious Student Empowering Women">
    <meta property="og:description" content="Tenisha was diagnosed with Polycystic Ovary Syndrome (PCOS) at just seventeen years old. She was told that she was probably going to be miserable, struggle to get pregnant and should lose some weight if she wanted to get close to living a happy, normal life.">
    <meta property="og:image" content="https://cdn.sanity.io/images/78nd8rko/production/e394672cf44f16aab6786dfec20ce96d28004a87-750x422.jpg">
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://metatags.io/">
    <meta property="twitter:title" content="6 The Audacious Student Empowering Women">
    <meta property="twitter:description" content="Tenisha was diagnosed with Polycystic Ovary Syndrome (PCOS) at just seventeen years old. She was told that she was probably going to be miserable, struggle to get pregnant and should lose some weight if she wanted to get close to living a happy, normal life.">
    <meta property="twitter:image" content="https://cdn.sanity.io/images/78nd8rko/production/e394672cf44f16aab6786dfec20ce96d28004a87-750x422.jpg">
</head>

<body>
    <!-- Loader -->
    <!--<div class="loader">
            <div class="loaderCont">
                <img src="images/loader.gif" alt="Loader" />
                <p>Loading...</p>
            </div>
        </div>-->
    <div class="wrapper innerpage">
        <!-- Header -->
        <!--<header>
            <div class="container">
                
                <a href="index.html" class="logo">
                    <img src="images/logo.png" alt="Bacon Buttie" />
                </a>
            </div>
        </header>-->
        <div class="articleDetail">
            <div class="container">
                <div class="banner">
                    <div class="carousel"></div>
                    <div class="lhs">
                        <p class="articleName"></p>
                        <p class="sourceName">Source: <span></span></p>
                    </div>
                    <div class="rhs">
                        <p>SHARE THIS ARTICLE</p>
                        <a href="javascript:;"><img src="/images/icon-fb.png" alt="Facebook" /></a>
                        <a href="javascript:;"><img src="/images/icon-linkedin.png" alt="LinkedIn" /></a>
                        <a href="javascript:;"><img src="/images/icon-twitter.png" alt="Twitter" /></a>
                        <a href="javascript:;"><img src="/images/icon-mail.png" alt="Email" /></a>
                    </div>
                </div>
                <div class="content">
                    <!-- <h1 class="title">The Audacious Student Empowering Women</h1> -->
                    <h1 class="title"></h1>
                    <h2 class="subtitle"></h2>
                    <p class="authorName">By:
                        <span></span>
                    </p>
                    <p class="articleDate"></p>
                    <div class="articleContent">
                        
                    </div>
                </div>
            </div>
        </div>
        <!-- Footer -->
    </div>
    <script type="text/javascript" src="/js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="/js/fullpage.js"></script>
    <script type="text/javascript" src="/js/owl.carousel.js"></script>
    
    <script>
        function imageAssetPath(jD, imgID) {
            var imgPath = '';
            jD.forEach((jsData, i) => {
                // console.log(imgID);
                var imd = imgID;
                if (jsData._type == 'sanity.imageAsset') {
                    if (jsData._id == imd) {
                        imgPath = jsData.url;
                    }
                }
            })
            return imgPath;
        }

        function fetchAuthor(jD, refId) {
            console.log(refId);
            var authorName = '';
            jD.forEach((jsData, i) => {
                // console.log(imgID);
                var rId = refId;
                if (jsData._type == 'author') {
                    if (jsData._id == rId) {
                        authorName = jsData.name;
                    }
                }
            });
            return authorName;
        }

        var data = "";
        var newsItemNo = "";

        window.onload = function() {
            
        }

        data = $.ajax({
            method: "GET",
            url: "https://78nd8rko.api.sanity.io/v1/data/query/production?query=*",
            headers: {
                "Authorization": "Bearer skDDwzoijShoNda8N1faUBHHbUGhiNGSt3fsC9W6DjrKDnw8SSZ9eIkgsNr7YdR6OVaH9yhmPYwTxytrjFgwbrGJrNpNdtjQ1aT1SLzef8njB3ZbyLXFzDQZtAJGmFDQLDDEhoFbZAPoI8yPzmfZuLyppkRPKc8iRd4oNQKi27sRfoDnNJEc"
            }
        }).done(function(){
            newsItemNo = location.hash.split("#")[1];
            var index = data.responseJSON.result.findIndex(function(item, i) {
                return item._id === newsItemNo
            });

            if (data.status === 200) {
                var jsonDataList = data.responseJSON.result;
                var jsonData = data.responseJSON.result[index];
                console.log(jsonData);
                var nTitle = '';

                if (jsonData._type == 'news') {
                    var pageContent = '';
                    var authorName = '';
                    var newsSource = '';
                    var newsTi = jsonData.newsTitle[0].children;

                    //console.log(jsonData);
                    for (i = 0; i <= newsTi.length; i++) {
                        var newsTiArr = newsTi;
                        for (j = 0; j <= newsTiArr.length - 1; j++) {
                            if (newsTiArr[j].text !== '') {
                                nTitle = newsTiArr[j].text;
                                pageName = nTitle.replace(/\s+/g, '-').toLowerCase()
                            }
                        }
                    }
                    var marks = [
                        "code",
                        "strong",
                        "em",
                        "underline",
                        "strike-through"
                    ]
                    for (var bc = 0; bc <= jsonData.bodyCopy.length - 1; bc++) {
                        var bcc = '';
                        var bcctxt = '';
                        var carouselData = '';

                        if (jsonData.bodyCopy[bc].children) {
                            bcc = jsonData.bodyCopy[bc].children;
                            bcctxt = bcc;
                        }
                        if (jsonData.bodyCopy[bc].asset) {
                            bcc = jsonData.bodyCopy[bc].asset;
                        }
                        if (jsonData.bodyCopy[bc]._type == 'block' && !jsonData.bodyCopy[bc].listItem) {
                            if (bcc) {
                                if (bcctxt.text != '' || bcctxt.text != undefined) {
                                    // console.log(bcctxt.text);
                                    pageContent += '<p>';
                                    if (bcctxt.length > 0) {
                                        for (var bcctxtL = 0; bcctxtL <= bcctxt.length - 1; bcctxtL++) {
                                            if (bcctxt[bcctxtL].marks) {
                                                if (bcctxt[bcctxtL].marks.length == 0) {
                                                    // console.log(1234);
                                                    pageContent += bcctxt[bcctxtL].text;
                                                }
                                                if (bcctxt[bcctxtL].marks.length != 0) {
                                                    // console.log(123456789);
                                                    // pageContent += '<span class="'+bcctxt[bcctxtL].marks[mk]+'+">'+ bcctxt[bcctxtL].text+'</span>';
                                                    var marksClasses = '';
                                                    for (var mk = 0; mk <= bcctxt[bcctxtL].marks.length - 1; mk++) {
                                                        if (!marks.includes(marks)) {
                                                            // console.log(1243);
                                                            marksClasses += bcctxt[bcctxtL].marks[mk] + ' ';
                                                            // pageContent += '<span class="'+bcctxt[bcctxtL].marks[mk]+'+">'+ bcctxt[bcctxtL].text+'</span>';
                                                        }
                                                    }
                                                    pageContent += '<span class="' + marksClasses + '">' + bcctxt[bcctxtL].text + '</span>';
                                                }
                                            }
                                            // console.log();
                                        }
                                    }
                                    pageContent += '</p>'
                                }
                            }
                        }
                        if (jsonData.bodyCopy[bc]._type == 'image') {
                            if (bcc) {
                                pageContent += '<img class="lazy" data-src="' + bcc._ref + '" alt="">';
                            }
                        }
                        if (jsonData.bodyCopy[bc]._type == 'socialEmbed' && jsonData.bodyCopy[bc].socialEmbedCode) {
                            pageContent += jsonData.bodyCopy[bc].socialEmbedCode;
                        }
                        if (jsonData.bodyCopy[bc].listItem == 'bullet' || jsonData.bodyCopy[bc].listItem == 'number') {
                            if (bcc) {
                                if (jsonData.bodyCopy[bc].listItem == 'bullet') {
                                    pageContent += '<p class="ul-level-' + jsonData.bodyCopy[bc].level + '">' + bcc[0].text + '</p>'
                                }
                                if (jsonData.bodyCopy[bc].listItem == 'number') {
                                    pageContent += '<p class="ol-level-' + jsonData.bodyCopy[bc].level + '">' + bcc[0].text + '</p>'
                                }
                            }
                            // listParent += jsonData.bodyCopy[bc].listItem == 'bullet' ? '</ul>' : '</ol>';
                        }

                        if (jsonData.image) {
                            for (ic = 0; ic <= jsonData.image.length - 1; ic++) {
                                if (jsonData.image[ic]._type == 'youtube') {
                                    carouselData += '<iframe width="100%" height="800" src="' + jsonData.image[ic].url + '" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>';
                                }
                                if (jsonData.image[ic]._type == 'image') {
                                    var BimgP = jsonData.image[ic].asset._ref;
                                    var BimgPa = imageAssetPath(jsonDataList, BimgP);
                                    carouselData += '<img class="lazy" src="' + BimgPa + '" alt="Banner" />';
                                }
                            }
                        }
                        if (jsonData.author) {
                            var authorRef = jsonData.author._ref;
                            authorName = fetchAuthor(jsonDataList, authorRef);
                        }
                        if (jsonData.externalLink) {
                            newsSource = jsonData.externalLink;
                        }
                    }

                    document.querySelector(".banner").querySelector(".carousel").innerHTML = carouselData;
                    document.querySelector(".title").innerHTML = nTitle;
                    document.querySelector(".articleDate").innerHTML = jsonData._updatedAt.split("T")[0];
                    document.querySelector(".articleContent").innerHTML = pageContent;
                    document.querySelector(".authorName span").innerHTML = authorName;
                    document.querySelector(".sourceName span").innerHTML = newsSource;
                    
                    if($(".carousel").length && jsonData.image.length > 1)
                    {
                        $(".carousel").owlCarousel({
                            nav: true,
                            pagination: true,
                            items: 1,
                            responsive: {
                            1024: {items: 1}
                            }
                        });
                    }
                }
            }
        });
    </script>
</body>
</html>









